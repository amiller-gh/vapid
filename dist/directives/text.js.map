{"version":3,"file":"text.js","sourceRoot":"","sources":["../../lib/directives/text.ts"],"names":[],"mappings":";;;;;AAAA,kEAAmC;AAEnC,iCAAuD;AAMvD,MAAqB,aAAc,SAAQ,oBAAa;IAAxD;;QAEE,YAAO,GAAG;YACR,OAAO,EAAE,EAAE;YACX,KAAK,EAAE,EAAE;YACT,IAAI,EAAE,EAAE;YACR,QAAQ,EAAE,CAAC;YACX,IAAI,EAAE,KAAK;SACZ,CAAA;QAED,UAAK,GAAuB;YAC1B,QAAQ,EAAE,KAAK;YACf,WAAW,EAAE,EAAE;YACf,SAAS,EAAE,SAAS;SACrB,CAAA;IAgBH,CAAC;IAdC;;OAEG;IACH,KAAK,CAAC,IAAY,EAAE,KAAK,GAAG,EAAE;QAE5B,IAAI,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YAAE,KAAK,GAAG,EAAE,CAAC;SAAE;QAEnD,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACrB,OAAO,kBAAkB,IAAI,IAAI,IAAI,CAAC,SAAS,iBAAiB,uBAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,kBAAkB,KAAK,aAAa,CAAC;SAClI;QAED,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,KAAK,gBAAgB,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC;QACxE,OAAO,gBAAgB,IAAI,WAAW,IAAI,kBAAkB,uBAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,uBAAM,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,SAAS,GAAG,CAAC;IAC1I,CAAC;CACF;AA9BD,gCA8BC","sourcesContent":["import escape from 'lodash.escape';\n\nimport { BaseDirective, DirectiveAttrs } from './base';\n\ninterface TextDirectiveAttrs extends DirectiveAttrs {\n  maxlength?: number,\n}\n\nexport default class TextDirective extends BaseDirective {\n\n  options = {\n    default: '',\n    label: '',\n    help: '',\n    priority: 0,\n    long: false,\n  }\n\n  attrs: TextDirectiveAttrs = {\n    required: false,\n    placeholder: '',\n    maxlength: undefined,\n  }\n\n  /**\n   * Renders either a text or textarea input\n   */\n  input(name: string, value = '') {\n\n    if (value === this.options.default) { value = ''; }\n\n    if (this.options.long) {\n      return `<textarea name=${name} ${this.htmlAttrs} placeholder=\"${escape(this.options.default)}\" resize=false>${value}</textarea>`;\n    }\n\n    const type = name.toLowerCase() === 'content[email]' ? 'email' : 'text';\n    return `<input type=\"${type}\" name=\"${name}\" placeholder=\"${escape(this.options.default)}\" value=\"${escape(value)}\" ${this.htmlAttrs}>`;\n  }\n}\n"]}